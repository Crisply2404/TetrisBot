# 轻量迭代：修复“悬浮提示 vs 详情页不一致”，恢复“读取更长块序”开关，撤回 undo 防抖

目标：
- 悬浮提示与详情页默认看到的落点一致（避免看起来“一个有 bug 一个没 bug”）。
- 修复请求返回慢导致“上一手建议覆盖当前手”的不同步问题。
- 恢复“读取更长块序”开关（默认开启但可关）。
- undo 的 reset 暂时不做防抖（按你要求）。

## 任务清单

- [√] 修复过期结果：cold-clear 返回时如果 state key 已变化，丢弃旧结果，避免显示“当前局面根本没有的块”。
- [√] 详情页：默认高亮显示“和叠加层一致的实时落点”，步骤列表仍保留为模拟预览（点击才切换）。
- [√] 设置页：恢复 `readFullBag` 开关（默认开启）。
- [√] 逻辑：readFullBag=false 时退回 short（current+next5）；true 时走 6→12→…→6 变长队列。
- [√] undo：移除 reset 防抖，回到立即 reset。
- [√] 迁移方案包至 history 并更新索引。
