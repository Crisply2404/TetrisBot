# 项目技术约定

## 技术栈（尽量不绑死）
- **运行形态:** Chrome 扩展（建议 Manifest V3）
- **核心目标:** 在 TETR.IO 网页上叠加“摆放建议”提示（仅提示，不自动操作）
- **UI/前端页面:** 在本项目内实现；UI 风格/结构参考 `ref/tetrismind/`
- **本地 AI 引擎:** 优先离线（例如 WebAssembly/WASM），不依赖线上服务
  - 目前实现：Cold Clear v1（WASM）跑在 offscreen 文档里，通过 WebWorker 计算建议，避免卡住游戏页面

## 开发约定（大白话版）
- **别写死:** TETR.IO 经常更新，拿状态的逻辑要留“兜底”和“开关”。
- **别卡顿:** 计算建议要放到 Worker 里跑，别把游戏页面卡死。
- **别越界:** 默认不要在竞技匹配/排位里启用，避免违反规则。
- **可观察:** 关键环节要能开“调试日志”，方便定位“为什么读不到棋盘/为什么建议不对”。
- **能自救:** 自动定位棋盘偶尔会差一点点，UI 要提供“手动校准”兜底（让用户拖一下就对齐）。

## 错误与日志
- **策略:** 读不到状态就不画建议，并在扩展里提示“未连接到游戏状态”
- **日志:** 默认关闭；开启后只打必要信息（不包含账号令牌等敏感信息）

## 测试与流程
- **测试:** 以手动验收清单为主（40L/对战/弹窗详情页实时显示）
- **提交:** 可选 Conventional Commits；没有强制
